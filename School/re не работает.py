"""Задание 24 .
Текстовый файл состоит из десятичных цифр, знаков «+» и «*» (сложения и умножения).
Определите максимальное количество символов в непрерывной последовательности,
являющейся корректным арифметическим выражением с целыми неотрицательными
числами (без знака), значение которого равно 100. В этом выражении никакие два
знака арифметических операций не стоят рядом, порядок действий определяется по
правилам математики. В записи чисел отсутствуют незначащие (ведущие) нули.
В ответе укажите количество символов."""
# НАМ ТРЕБУЮТСЯ ВСЕ ВАРИАЦИИ!!!
# не работает
"""import re

with open('files/24_горбачев5.txt', 'r') as f:
    s = f.readline()

# Регулярное выражение для поиска корректных выражений (включая одиночные числа)
pattern = r'(?:0|[1-9]\d*)(?:[+*](?:0|[1-9]\d*))*'
matches = re.findall(pattern, s)

max_len = 0
for expr in matches:
    if expr and eval(expr) == 100:
        max_len = max(max_len, len(expr))

print(max_len)"""

"""s = open('files/24_горбачев5.txt').readline().strip()
for i in ('++', '**', '*+', '+*'):
    s = s.replace(i, ' ')

m = ''
for c in s.split():
    if len(c) > len(m):
        for i in range(len(c) - 1):
            if c[i] not in '*+' and c[i] + c[i + 1] not in (f'0{i}' for i in range(10)):
                sub = ''
                for j in range(i, len(c)):
                    sub += c[j]
                    if sub[-1] not in '*+' and eval(sub) == 100:
                        m = max(m, sub, key=len)
print(len(m), m)  # 80"""



